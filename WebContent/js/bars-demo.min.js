var app=angular.module("barsDemoApp",[]);app.controller("barsDemoCtrl",function(e,t,n){e.init=function(){t.get("http://pb-api.herokuapp.com/bars").then(function(t){e.responseData=t.data,e.buttons=e.responseData.buttons,e.bars=e.responseData.bars,e.maxLimit=e.responseData.limit,e.createView(e.buttons,e.bars)})},e.createView=function(t,a){var r=document.createElement("select");angular.forEach(t,function(t,a){var r=document.createElement("button"),d="btn"+(a+1);r.setAttribute("id",d),r.setAttribute("value",t),r.setAttribute("class","btn"),r.setAttribute("ng-click","changeBarsWidth('"+d+"')"),r.innerHTML=t,n(r)(e),document.getElementById("buttonDiv").appendChild(r)}),angular.forEach(a,function(e,t){var n=document.createElement("div");document.getElementById("mainDiv").appendChild(n),n.setAttribute("class","progress"),n.setAttribute("id","progress"+(t+1));var a=document.createElement("div");n.appendChild(a),a.setAttribute("class","bar"),a.setAttribute("id","bar"+(t+1)),a.style.width=e+"%";var d=document.createElement("label");a.appendChild(d),d.setAttribute("class","clabel"),d.setAttribute("id","label"+(t+1)),d.innerHTML=e+"%";var l=document.createElement("option");r.appendChild(l),l.setAttribute("id","dropDown"+(t+1)),l.setAttribute("value",t+1),l.innerHTML="progessbar "+(t+1)}),document.getElementById("buttonDiv").appendChild(r),r.setAttribute("id","dropDownId")},e.changeBarsWidth=function(t){var n=document.getElementById(t),a=parseInt(document.getElementById("dropDownId").value),r=document.getElementById("label"+a).innerHTML,d=parseInt(n.value)+parseInt(r);100==d?(document.getElementById("bar"+a).style.backgroundColor="blue",document.getElementById("bar"+a).style.width="100%",document.getElementById("label"+a).innerHTML=d+"%"):d>100&&d<=e.maxLimit?(document.getElementById("bar"+a).style.backgroundColor="red",document.getElementById("bar"+a).style.width="100%",document.getElementById("label"+a).innerHTML=d+"%"):d>=e.maxLimit?(document.getElementById("bar"+a).style.backgroundColor="red",document.getElementById("bar"+a).style.width="100%",document.getElementById("label"+a).innerHTML=e.maxLimit+"%"):d<=100&&d>0?(document.getElementById("bar"+a).style.backgroundColor="lightgreen",document.getElementById("bar"+a).style.width=d+"%",document.getElementById("label"+a).innerHTML=d+"%"):d<=0&&(document.getElementById("bar"+a).style.width="0%",document.getElementById("label"+a).innerHTML="0%")},e.init()});